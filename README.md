# Appearance Switcher

macOSのディスプレイに覗き見防止フィルムを貼ると、ディスプレイの外観モードがライトよりダークの方が見やすいが、外部ディスプレイに繋いでいるときはライトの方が見やすかったので、外観モードの切り替えを一日に何度も手動で行なっていましたが、何度も行うと手間だとなったので、Dockメニューから素早く外観モードを切り替えるシンプルなアプリを作りました。

## 機能

- Dockメニューから直接ライト/ダークモードを切り替え
- 外部ディスプレイの接続/切断を検知して自動的にモード変更を提案
- 外部ディスプレイ接続時の「自動で外観を切り替え」設定（ONで確認ダイアログなし、OFFで確認ダイアログ表示）
- オートメーション権限の確認とシステム設定へのガイド

## ダウンロード

[Releases](https://github.com/kohtash/appearance-switcher/releases) から最新版のZIPをダウンロードしてください。

## インストール

1. `Appearance.Switcher.zip` をダウンロード
2. ZIPファイルをダブルクリックで解凍
3. `Appearance Switcher.dmg` をダブルクリックでマウント
4. `Appearance Switcher.app` をアプリケーションフォルダにドラッグ
5. アプリケーションフォルダから起動

### 初回起動時の設定

初回起動時に、システム設定でオートメーション権限の許可が必要です:

1. アプリを起動するとアラートが表示されます
2. 「システム設定を開く」をクリック
3. 「プライバシーとセキュリティ」→「オートメーション」
4. 「Appearance Switcher」の横の「System Events」をONにする
5. アプリを再起動

## 使い方

### Dockメニューから切り替え

1. Dockにあるアプリアイコンを**右クリック**（または二本指クリック）
2. メニューから「ライトモードに切り替え」または「ダークモードに切り替え」を選択
3. 即座にモードが切り替わります

### 外部ディスプレイ接続時の自動提案

外部ディスプレイを接続/切断すると、モード変更が実行されます:
- **接続時**: ダークモード → ライトモードへの変更
- **切断時**: ライトモード → ダークモードへの変更

動作は「自動で外観を切り替え」設定により異なります:
- **ON（自動切り替え許可）**: 確認ダイアログなしで即座にモードが変更されます
- **OFF（ユーザー確認を要求）**: 確認ダイアログが表示され、「はい」「いいえ」で選択できます

#### 設定の切り替え

1. Dockにあるアプリアイコンを**右クリック**（または二本指クリック）
2. メニューから「自動で外観を切り替え」を選択して切り替え（チェックマーク表示で有効）
3. 設定はアプリ再起動後も保持されます

### 最新版の確認

1. Dockにあるアプリアイコンを**右クリック**（または二本指クリック）
2. メニューから「アップデートを確認」を選択
3. 最新版があれば「新しいバージョンが見つかりました。」が表示され、「最新版を確認」を押すとリリースページが開きます
4. 最新版がない場合は「お使いのバージョンは最新です。」と表示されます
5. ネットワーク未接続などで取得に失敗した場合はエラーが表示されます（「再試行」で再度確認できます）
